{"version":3,"sources":["components/ctx/UserCountriesContext.jsx","components/Item.jsx","components/ListItems.jsx","components/hooks/useLocalStorage.jsx","components/Suggestion.jsx","components/Suggestions.jsx","components/Input.jsx","components/ContainerApp.jsx","components/Header.jsx","components/styles/GlobalStyles.js","components/styles/Theme.jsx","App.js","index.js"],"names":["UserCountriesContext","createContext","initialState","name","isVisited","UserContextProvider","children","useState","userCountries","setUserCountries","useEffect","localValue","window","localStorage","getItem","JSON","parse","setItem","stringify","userCountriesContext","Provider","value","Li","styled","li","Div","div","Input","input","Label","label","theme","colors","text_primary","secondary","DeleteButton","button","Item","country","useContext","id","type","checked","onChange","e","target","currentTarget","index","findIndex","tempArr","htmlFor","onClick","previousSibling","splice","Ul","ul","SortIcon","ListItems","isDefaultOrder","setIsDefaultOrder","items","useMemo","sort","putBeforeVisitedCountries","a","b","countryA","isVisitedA","countryB","isVisitedB","comparison","map","title","stopPropagation","previousState","useLocalStorageCountries","key","countries","setCountries","isEmpty","fetch","response","ok","Error","json","arrayOfCountries","alert","message","Button","primary","Suggestion","tabIndex","appear","keyframes","handleHorizontalScroll","preventDefault","scrollLeft","deltaY","Suggestions","allCountries","inputValue","setInputValue","suggestionsDiv","useRef","listSuggestions","initialList","userList","userListNames","toLowerCase","filter","countryName","inputEscaped","replace","RegExp","test","includes","filterCountries","element","current","handleKeydown","maxIndex","length","keyCode","firstElementChild","focus","contains","document","activeElement","previousElementSibling","firstChild","addEventListener","passive","removeEventListener","ref","textContent","StyledInput","text_secondary","isAllCountriesEmpty","onSubmit","suggestionDiv","nextElementSibling","trim","placeholder","disabled","Container","tertiary","ContainerApp","StyledHeader","header","H1","h1","ButtonSun","ButtonMoon","Header","setTheme","GlobalStyle","createGlobalStyle","themeLight","themeDark","Theme","App","localTheme","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3be58558.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\nimport { createContext, useEffect, useState } from 'react';\n\nexport const UserCountriesContext = createContext();\n\nconst initialState = [\n\t{ name: 'Italy', isVisited: true },\n\t{ name: 'Norway', isVisited: true },\n\t{ name: 'Brazil', isVisited: false },\n\t{ name: 'Sweden', isVisited: false },\n];\n\nexport const UserContextProvider = ({ children }) => {\n\tconst [userCountries, setUserCountries] = useState(initialState);\n\n\t// check if Local Storage exists and fetch it\n\tuseEffect(() => {\n\t\tconst localValue = window.localStorage.getItem('userCountries');\n\t\tlocalValue && setUserCountries(JSON.parse(localValue));\n\t}, []);\n\n\t// update Local Storage at every State change\n\tuseEffect(() => {\n\t\twindow.localStorage.setItem('userCountries', JSON.stringify(userCountries));\n\t}, [userCountries]);\n\n\tconst userCountriesContext = {\n\t\tuserCountries,\n\t\tsetUserCountries,\n\t};\n\n\treturn (\n\t\t<UserCountriesContext.Provider value={userCountriesContext}>\n\t\t\t{children}\n\t\t</UserCountriesContext.Provider>\n\t);\n};\n\nUserContextProvider.propTypes = {\n\tchildren: PropTypes.node.isRequired,\n};\n\nexport default UserContextProvider;\n","import { useContext } from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n\nimport { UserCountriesContext } from './ctx/UserCountriesContext';\n\nconst Li = styled.li`\n\tposition: relative;\n\tborder-bottom: 1px dotted #8d7d77;\n\tpadding: 1.5rem 0;\n\tvertical-align: middle;\n\n\t&:last-child {\n\t\tborder: none;\n\t}\n`;\n\nconst Div = styled.div`\n\tpadding: 0 1rem;\n\tvertical-align: middle;\n`;\n\nconst Input = styled.input`\n\theight: 2rem;\n\twidth: 2rem;\n\tmargin-right: 1.5rem;\n\tvertical-align: middle;\n\tcursor: pointer;\n\ttransition: all 0.3s;\n\n\t&:hover {\n\t\ttransform: scale(1.2);\n\t}\n\n\t&:checked {\n\t\tdisplay: none;\n\t}\n`;\n\nconst Label = styled.label`\n\tposition: relative;\n\ttransition: all 0.5s;\n\tcolor: ${({ theme }) => theme.colors.text_primary};\n\n\t&::after {\n\t\tcontent: '';\n\t\twidth: 0%;\n\t\tborder-bottom: solid 2px ${({ theme }) => theme.colors.secondary};\n\t\tposition: absolute;\n\t\tleft: 0%;\n\t\ttop: 50%;\n\t\ttransform: rotate(-45deg);\n\t}\n\n\t${Input}:checked ~ & {\n\t\tfont-style: italic;\n\t\tfont-size: 1.5rem;\n\t\topacity: 0.5;\n\n\t\t&::after {\n\t\t\ttransition: width 0.3s;\n\t\t\twidth: min(3.5em, 100%);\n\t\t}\n\t}\n\n\t&&:hover::after {\n\t\twidth: 0%;\n\t}\n`;\n\nconst DeleteButton = styled.button`\n\tvisibility: hidden;\n\topacity: 0;\n\tposition: absolute;\n\tcolor: ${({ theme }) => theme.colors.secondary};\n\tpadding: 0.5rem;\n\tcursor: pointer;\n\tright: 2rem;\n\ttop: 0;\n\tbottom: 0;\n\tfont-size: 3rem;\n\toutline: none;\n\tborder: none;\n\tbackground: transparent;\n\ttransition: all 0.2s;\n\ttransform: translateX(-1rem);\n\n\t&:hover {\n\t\ttransform: scale(1.2);\n\t}\n\n\t${Li}:hover & {\n\t\tvisibility: visible;\n\t\topacity: 1;\n\t\ttransform: translateX(0);\n\t}\n\n\t${Li}:hover &:hover {\n\t\ttransform: scale(1.3);\n\t}\n`;\n\nfunction Item({ country, isVisited }) {\n\tconst { userCountries, setUserCountries } = useContext(UserCountriesContext);\n\n\tfunction handleDeleteItem(e) {\n\t\tconst index = userCountries.findIndex((country) => {\n\t\t\treturn country.name === e.target.previousSibling.htmlFor;\n\t\t});\n\t\tlet tempArr = [...userCountries];\n\t\ttempArr.splice(index, 1);\n\t\tsetUserCountries(tempArr);\n\t}\n\n\tfunction handleCheckboxChange(e) {\n\t\tconst target = e.currentTarget;\n\t\tconst index = userCountries.findIndex((country) => {\n\t\t\treturn country.name === target.id;\n\t\t});\n\t\tlet tempArr = [...userCountries];\n\t\ttempArr[index].isVisited = target.checked;\n\t\tsetUserCountries(tempArr);\n\t}\n\n\treturn (\n\t\t<Li>\n\t\t\t<Div>\n\t\t\t\t<Input id={country} type='checkbox' checked={isVisited} onChange={handleCheckboxChange} />\n\t\t\t\t<Label htmlFor={country}>{country}</Label>\n\t\t\t\t<DeleteButton onClick={handleDeleteItem}>ｘ</DeleteButton>\n\t\t\t</Div>\n\t\t</Li>\n\t);\n}\n\nItem.propTypes = {\n\tcountry: PropTypes.string.isRequired,\n\tisVisited: PropTypes.bool.isRequired,\n};\n\nexport default Item;\n","import { useContext, useMemo, useState } from 'react';\nimport styled from 'styled-components';\n\nimport { UserCountriesContext } from './ctx/UserCountriesContext';\nimport Item from './Item';\n\nconst Ul = styled.ul`\n\tposition: relative;\n\tlist-style-type: none;\n`;\n\nconst SortIcon = styled.button`\n\tposition: absolute;\n\tbottom: -0%;\n\tright: -8%;\n\theight: 1.5em;\n\twidth: 1.5em;\n\ttransform: translateX(50%);\n\ttransform-origin: right;\n\tfont-size: 3rem;\n\tborder-radius: 50%;\n\tz-index: 10;\n\tborder: none;\n\tbackground: ${({ theme }) => theme.colors.secondary};\n\ttransition: all 0.3s;\n\tcursor: pointer;\n\n\t&:hover {\n\t\ttransform: scale(1.2) translateX(50%);\n\t}\n\n\t&:hover:active {\n\t\ttransform: scale(1) translateX(50%);\n\t}\n\n\t@media (max-width: 768px) {\n\t\tbottom: -8rem;\n\t\tright: 49%;\n\t}\n`;\n\n/**\n * Helper function that sorts this array of objects by 2 properties:\n * it separate _visited countries_ from unvisited ones, and then\n * orders them alphabetically.\n * @param {boolean} putFirstVisitedCountries If true, the function\n * puts first visited countries; otherwise it puts first unvisited ones.\n */\nfunction compare(putBeforeVisitedCountries) {\n\treturn function compareCountries(a, b) {\n\t\tconst { name: countryA, isVisited: isVisitedA } = a;\n\t\tconst { name: countryB, isVisited: isVisitedB } = b;\n\n\t\tlet comparison = 0;\n\t\tif (isVisitedA - isVisitedB !== 0) {\n\t\t\tcomparison = isVisitedB - isVisitedA;\n\t\t\treturn putBeforeVisitedCountries ? comparison * -1 : comparison;\n\t\t}\n\t\tif (countryA > countryB) {\n\t\t\tcomparison = 1;\n\t\t} else if (countryA < countryB) {\n\t\t\tcomparison = -1;\n\t\t}\n\n\t\treturn comparison;\n\t};\n}\n\nfunction ListItems() {\n\tconst { userCountries } = useContext(UserCountriesContext);\n\tconst [isDefaultOrder, setIsDefaultOrder] = useState(true);\n\n\tfunction handleIconClick(e) {\n\t\te.stopPropagation();\n\t\tsetIsDefaultOrder((previousState) => !previousState);\n\t}\n\n\tconst items = useMemo(\n\t\t() =>\n\t\t\t[...userCountries].sort(compare(isDefaultOrder)).map(({ name, isVisited }) => {\n\t\t\t\treturn <Item key={name} country={name} isVisited={isVisited} />;\n\t\t\t}),\n\t\t[userCountries, isDefaultOrder]\n\t);\n\n\tconst title = isDefaultOrder\n\t\t? 'Click to put visited places first'\n\t\t: 'Click to put unvisited places first';\n\n\treturn (\n\t\t<Ul>\n\t\t\t<SortIcon title={title} onClick={handleIconClick}>\n\t\t\t\t{isDefaultOrder ? '📍' : '✈️'}\n\t\t\t</SortIcon>\n\t\t\t{items}\n\t\t</Ul>\n\t);\n}\n\nexport default ListItems;\n","import { useEffect, useState } from 'react';\n\nfunction useLocalStorageCountries(key) {\n\tconst [countries, setCountries] = useState(() => {\n\t\tconst localValue = window.localStorage.getItem(key);\n\t\treturn localValue !== null ? JSON.parse(localValue) : null;\n\t});\n\tconst isEmpty = !countries; // helper variable to track if there wasn't even a cached version\n\n\tuseEffect(() => {\n\t\t(async function getAllCountries() {\n\t\t\ttry {\n\t\t\t\tconst response = await fetch(`https://restcountries.eu/rest/v2/all?fields=name;`);\n\t\t\t\tif (!response.ok) throw Error();\n\t\t\t\tconst arrayOfCountries = await response.json();\n\t\t\t\tsetCountries(arrayOfCountries);\n\t\t\t\twindow.localStorage.setItem(key, JSON.stringify(arrayOfCountries));\n\t\t\t} catch (err) {\n\t\t\t\talert(\n\t\t\t\t\t`${err.message}: we will try to give you a cached list of all countries for this session.`\n\t\t\t\t);\n\t\t\t}\n\t\t})();\n\t}, [key]);\n\n\treturn [countries, isEmpty];\n}\n\nexport default useLocalStorageCountries;\n","import styled from 'styled-components';\nimport PropTypes from 'prop-types';\n\nconst Button = styled.button`\n\tposition: relative;\n\ttop: 50%;\n\ttransform: translateY(-50%);\n\tmargin: 0 0.7rem;\n\tpadding: 0.5rem;\n\tborder: 2px solid ${({ theme }) => theme.colors.secondary};\n\tborder-radius: 2rem;\n\tappearance: none;\n\ttransition: all 0.3s;\n\n\t&:hover,\n\t&:focus {\n\t\tbackground-color: ${({ theme }) => theme.colors.secondary};\n\t\tcolor: ${({ theme }) => (theme.name === 'light' ? theme.colors.primary : 'black')};\n\t\ttransform: translateY(-60%);\n\t}\n`;\n\nfunction Suggestion({ children }) {\n\treturn <Button tabIndex={10}>{children}</Button>;\n}\n\nSuggestion.propTypes = {\n\tchildren: PropTypes.string.isRequired,\n};\n\nexport default Suggestion;\n","import { useContext, useEffect, useRef } from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport PropTypes from 'prop-types';\n\nimport { UserCountriesContext } from './ctx/UserCountriesContext';\nimport Suggestion from './Suggestion';\n\nconst appear = keyframes`\n\tfrom {\n\t\ttransform: scaleX(0.1);\n\t}\n\tto {\n\t\ttransform: scaleX(1) translateY(10%);\n\t\t}`;\n\nconst Div = styled.div`\n\tposition: absolute;\n\tz-index: 100;\n\tleft: 0;\n\tright: 0;\n\tmin-width: 100%;\n\ttransform: translateY(10%);\n\ttext-align: center;\n\theight: 6rem;\n\toverflow-x: scroll;\n\toverflow-y: hidden;\n\twhite-space: nowrap;\n\tbackground-color: rgba(0, 0, 0, 0.2);\n\tbackdrop-filter: blur(2rem);\n\tanimation: ${appear} 0.2s linear;\n\n\t&::-webkit-scrollbar {\n\t\tdisplay: none;\n\t}\n\n\t&:empty::after {\n\t\tcontent: 'No further countries found for your query...';\n\t\tposition: relative;\n\t\tfont-style: italic;\n\t\tline-height: 6rem;\n\t}\n`;\n\n/**\n * This function-algorithm filters an `initialList` of countries against the `inputValue`\n * entered and against the values already existent in `userList`. It makes use of RegExp\n * so that it can match also words starting with desired value in the middle of the string.\n * @returns {Array} An array of countries.\n */\nfunction filterCountries(initialList, userList, inputValue) {\n\tconst userListNames = userList.map(({ name }) => name.toLowerCase());\n\n\tfunction escapeRegex(string) {\n\t\treturn string.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n\t}\n\n\tconst arrFiltered = initialList.filter((country) => {\n\t\tconst countryName = country.name.toLowerCase();\n\t\tconst inputText = inputValue.toLowerCase();\n\t\tconst inputEscaped = escapeRegex(inputText); // escape string for Reg Exp\n\t\tconst regex = new RegExp(`(\\\\s|^)${inputEscaped}`, 'g'); // match all words in a string that start with the query\n\t\treturn regex.test(countryName) && !userListNames.includes(countryName);\n\t});\n\n\treturn arrFiltered;\n}\n\n// hack to enable horizontal scrolling with mouse wheel\nfunction handleHorizontalScroll(e) {\n\te.preventDefault();\n\tconst element = e.currentTarget;\n\telement.scrollLeft += e.deltaY;\n}\n\nfunction Suggestions({ allCountries, inputValue, setInputValue }) {\n\tconst { userCountries, setUserCountries } = useContext(UserCountriesContext);\n\tconst suggestionsDiv = useRef();\n\tconst index = useRef(0);\n\n\tfunction handleClickSuggestion(e) {\n\t\tif (e.target === e.currentTarget) return;\n\t\tsetInputValue('');\n\t\tsetUserCountries((previousState) => [\n\t\t\t...previousState,\n\t\t\t{ name: e.target.textContent, isVisited: false },\n\t\t]);\n\t}\n\n\tconst arrFiltered = filterCountries(allCountries, userCountries, inputValue);\n\tconst listSuggestions = arrFiltered.map((country) => {\n\t\treturn <Suggestion key={country.name}>{country.name}</Suggestion>;\n\t});\n\n\tuseEffect(() => {\n\t\tconst element = suggestionsDiv.current;\n\n\t\t//this function handles the keyboard control of Suggestions\n\t\tfunction handleKeydown(e) {\n\t\t\tconst maxIndex = element?.children.length - 1;\n\t\t\tswitch (e.keyCode) {\n\t\t\t\tcase 40: //arrow-down\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tindex.current = 0;\n\t\t\t\t\telement.firstElementChild?.focus();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 9: // tab\n\t\t\t\tcase 39: // arrow-right\n\t\t\t\t\tif (element.contains(document.activeElement))\n\t\t\t\t\t\telement.children[index.current < maxIndex ? ++index.current : maxIndex]?.focus();\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 37: // arrow-left\n\t\t\t\t\tif (element.contains(document.activeElement))\n\t\t\t\t\t\telement.children[index.current > 0 ? --index.current : 0]?.focus();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 27: //esc\n\t\t\t\tcase 38: // arrow-up\n\t\t\t\tcase 8: // backspace\n\t\t\t\t\tif (element.contains(document.activeElement)) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\telement.previousElementSibling?.firstChild.focus();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\t// if letter pressed, focus back input\n\t\t\t\t\tif (/^[a-z]$/.test(e.key) && element.contains(document.activeElement)) {\n\t\t\t\t\t\telement.previousElementSibling?.firstChild.focus();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tdocument.addEventListener('keydown', handleKeydown);\n\t\telement.addEventListener('wheel', handleHorizontalScroll, { passive: false });\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('keydown', handleKeydown);\n\t\t\telement.removeEventListener('wheel', handleHorizontalScroll);\n\t\t};\n\t}, []);\n\n\treturn (\n\t\t<Div ref={suggestionsDiv} onClick={handleClickSuggestion}>\n\t\t\t{listSuggestions}\n\t\t</Div>\n\t);\n}\n\nSuggestions.propTypes = {\n\tallCountries: PropTypes.array.isRequired,\n\tinputValue: PropTypes.string.isRequired,\n\tsetInputValue: PropTypes.func.isRequired,\n};\n\nexport default Suggestions;\n","import { useState } from 'react';\nimport styled from 'styled-components';\n\nimport useLocalStorageCountries from './hooks/useLocalStorage';\nimport Suggestions from './Suggestions';\n\nconst StyledInput = styled.input`\n\tposition: relative;\n\tappearance: none;\n\toutline: none;\n\ttext-overflow: ellipsis;\n\tcolor: ${({ theme }) => (theme.name === 'dark' ? theme.colors.secondary : 'black')};\n\tborder: 1px solid ${({ theme }) => theme.colors.text_secondary};\n\tborder-radius: 4px;\n\twidth: 100%;\n\tpadding: 1.5rem;\n\ttransition: all 0.3s;\n\tbackground-color: transparent;\n\n\t&:hover {\n\t\tborder-color: transparent;\n\t}\n\n\t&:focus {\n\t\tborder: 1px solid ${({ theme }) => theme.colors.secondary};\n\t\tbox-shadow: 0 0 1px 3px ${({ theme }) => theme.colors.secondary};\n\t}\n\n\t&::placeholder {\n\t\tfont-style: italic;\n\t\tcolor: #a9a9a9;\n\t}\n`;\n\nfunction Input() {\n\tconst [inputValue, setInputValue] = useState('');\n\tconst [allCountries, isAllCountriesEmpty] = useLocalStorageCountries('worldCountries');\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\t\tconst suggestionDiv = e.target.nextElementSibling;\n\t\tif (inputValue?.trim() !== '' && suggestionDiv.firstChild) {\n\t\t\tsetInputValue(suggestionDiv.firstChild?.textContent);\n\t\t\tsuggestionDiv.firstChild?.focus();\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t<StyledInput\n\t\t\t\t\tvalue={inputValue}\n\t\t\t\t\tonChange={(e) => setInputValue(e.target.value)}\n\t\t\t\t\tplaceholder={\n\t\t\t\t\t\tisAllCountriesEmpty\n\t\t\t\t\t\t\t? 'A list of all countries is not available at the moment'\n\t\t\t\t\t\t\t: 'Country I want to visit'\n\t\t\t\t\t}\n\t\t\t\t\ttabIndex={1}\n\t\t\t\t\tdisabled={isAllCountriesEmpty}\n\t\t\t\t/>\n\t\t\t</form>\n\t\t\t{inputValue && (\n\t\t\t\t<Suggestions\n\t\t\t\t\tallCountries={allCountries}\n\t\t\t\t\tinputValue={inputValue}\n\t\t\t\t\tsetInputValue={setInputValue}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n}\n\nexport default Input;\n","import styled, { keyframes } from 'styled-components';\n\nimport ListItems from './ListItems';\nimport Input from './Input';\nimport UserContextProvider from './ctx/UserCountriesContext';\n\nconst appear = keyframes`\n\tfrom {\n\t\ttransform: translateY(2rem);\n\t\topacity: 0;\n\t}\n\tto {\n\t\ttransform: translateY(0) \n\t\topacity: 1;\n\t\t}`;\n\nconst Container = styled.div`\n\twidth: min(80vmin, 60rem);\n\tpadding: 0.6rem;\n\tmargin: 5rem auto 10rem;\n\tborder: 1px solid ${({ theme }) => theme.colors.tertiary};\n\tborder-radius: 4px;\n\tbackground-color: ${({ theme }) => theme.colors.tertiary};\n\tbox-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.2), 0 25px 50px 0 rgba(0, 0, 0, 0.15);\n\ttransition: background-color 1s, border 1s;\n\tanimation: ${appear} 0.5s ease-in-out;\n`;\n\nfunction ContainerApp() {\n\treturn (\n\t\t<UserContextProvider>\n\t\t\t<Container>\n\t\t\t\t<Input />\n\t\t\t\t<ListItems />\n\t\t\t</Container>\n\t\t</UserContextProvider>\n\t);\n}\n\nexport default ContainerApp;\n","import styled, { keyframes } from 'styled-components';\nimport PropTypes from 'prop-types';\n\nconst appear = keyframes`\n\tfrom {\n\t\topacity: 0;\n\t}\n\tto {\n\t\topacity: 1;\n\t\t}`;\n\nconst StyledHeader = styled.header`\n\tmargin: 5% 0;\n\ttext-align: center;\n\tanimation: ${appear} 0.5s;\n`;\n\nconst H1 = styled.h1`\n\tfont-size: min(7rem, 12vmin);\n\tcolor: ${({ theme }) => theme.colors.secondary};\n\ttext-shadow: -1px -1px rgb(255, 225, 213);\n\ttransition: color 0.5s linear;\n\tanimation: ${appear} 0.5s ease-in-out;\n`;\n\nconst Button = styled.button`\n\tbackground: none;\n\tborder: none;\n\tfont-size: 4rem;\n\tmargin: 1rem;\n\ttransform: translateY(-35vh);\n\ttransition: all 1s ease-in-out;\n\tcursor: pointer;\n`;\n\nconst ButtonSun = styled(Button)`\n\t${({ theme }) => theme.name === 'dark' && 'transform: translateY(0)'}\n`;\n\nconst ButtonMoon = styled(Button)`\n\t${({ theme }) => theme.name === 'light' && 'transform: translateY(0)'}\n`;\n\nfunction Header({ setTheme }) {\n\treturn (\n\t\t<StyledHeader>\n\t\t\t<H1>\n\t\t\t\t<ButtonSun onClick={() => setTheme('light')}>🔆</ButtonSun>\n\t\t\t\tTravel-List\n\t\t\t\t<ButtonMoon onClick={() => setTheme('dark')}>🌙</ButtonMoon>\n\t\t\t</H1>\n\t\t</StyledHeader>\n\t);\n}\n\nHeader.propTypes = {\n\tsetTheme: PropTypes.func.isRequired,\n};\n\nexport default Header;\n","import { createGlobalStyle } from 'styled-components';\n\nconst GlobalStyle = createGlobalStyle`\n\t*,\n\t*::before,\n\t*::after {\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tbox-sizing: border-box;\n\t}\n\n\tinput,\n\tbutton,\n\ttextarea,\n\tselect {\n\t\tfont: inherit;\n\t\tcolor: inherit; \n\t\tletter-spacing: inherit;\n\t\toutline: none;\n\t}\n\n\thtml {\n\t\tfont-size: 62.5%;\n\t\tfont-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n\t}\n\n\tbody {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tpadding-top: 5rem;\n\t\tbackground-color: ${({ theme }) => theme.colors.primary};\n\t\talign-items: center;\n\t\tfont-size: 2rem;\n\t\theight: 100vh;\n\t\twidth: 100%;\n\t\ttransition: background-color 1s linear;\n\t\t-webkit-font-smoothing: antialiased;\n \t\t-moz-font-smoothing: antialiased;\n \t\t-ms-font-smoothing: antialiased;\n \t\t-o-font-smoothing: antialiased;\n\t}\n\n`;\n\nexport default GlobalStyle;\n","import { ThemeProvider } from 'styled-components';\n\nconst themeLight = {\n\tname: 'light',\n\tcolors: {\n\t\tprimary: '#efd0ca',\n\t\tsecondary: '#8d7d77',\n\t\ttertiary: 'rgba(255, 255, 255, 0.5)',\n\t\ttext_primary: 'black',\n\t\ttext_secondary: '#a9a9a9',\n\t},\n};\n\nconst themeDark = {\n\tname: 'dark',\n\tcolors: {\n\t\tprimary: '#8d7d77',\n\t\tsecondary: '#efd0ca',\n\t\ttertiary: 'rgba(0, 0, 0, 0.4)',\n\t\ttext_primary: 'white',\n\t\ttext_secondary: 'black',\n\t},\n};\n\nconst Theme = ({ children, theme }) => {\n\treturn (\n\t\t<ThemeProvider theme={theme === 'light' ? themeLight : themeDark}>{children}</ThemeProvider>\n\t);\n};\n\nexport default Theme;\n","import { useState, useEffect } from 'react';\n\nimport ContainerApp from './components/ContainerApp';\nimport Header from './components/Header';\nimport GlobalStyle from './components/styles/GlobalStyles';\nimport Theme from './components/styles/Theme';\n\nfunction App() {\n\tconst [theme, setTheme] = useState(() => {\n\t\tconst localTheme = window.localStorage.getItem('theme');\n\t\treturn localTheme ? localTheme : 'light';\n\t});\n\n\tuseEffect(() => {\n\t\twindow.localStorage.setItem('theme', theme);\n\t}, [theme]);\n\n\treturn (\n\t\t<>\n\t\t\t<Theme theme={theme}>\n\t\t\t\t<GlobalStyle />\n\t\t\t\t<Header setTheme={setTheme} />\n\t\t\t\t<main>\n\t\t\t\t\t<ContainerApp />\n\t\t\t\t</main>\n\t\t\t</Theme>\n\t\t</>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}